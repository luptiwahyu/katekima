import{d as p,t as Q,h as S,i as W,j as B,k as X,l as $,w as r,r as g,u as e,P as E,o as d,n as q,m as j,f as _,p as J,c as K,a as h,b as R,q as y,s as C,e as o,_ as N,v as F,F as z,x as H,g as Z,y as O,S as U}from"./index-CpruGpi-.js";import{C as ee,u as te,_ as Y}from"./berry-C6l4gS4_.js";const[A,se]=X("PaginationRoot"),ae=p({__name:"PaginationRoot",props:{page:{},defaultPage:{default:1},itemsPerPage:{},total:{default:0},siblingCount:{default:2},disabled:{type:Boolean},showEdges:{type:Boolean,default:!1},asChild:{type:Boolean},as:{default:"nav"}},emits:["update:page"],setup(n,{emit:a}){const t=n,l=a,{siblingCount:i,disabled:s,showEdges:b}=Q(t);S();const v=W(t,"page",l,{defaultValue:t.defaultPage,passive:t.page===void 0}),x=B(()=>Math.max(1,Math.ceil(t.total/(t.itemsPerPage||1))));return se({page:v,onPageChange(f){v.value=f},pageCount:x,siblingCount:i,disabled:s,showEdges:b}),(f,w)=>(d(),$(e(E),{as:f.as,"as-child":f.asChild},{default:r(()=>[g(f.$slots,"default",{page:e(v),pageCount:x.value})]),_:3},8,["as","as-child"]))}});function P(n,a){const t=a-n+1;return Array.from({length:t},(l,i)=>i+n)}function ne(n){return n.map(a=>typeof a=="number"?{type:"page",value:a}:{type:"ellipsis"})}const M="ellipsis";function le(n,a,t,l){const s=a,b=Math.max(n-t,1),v=Math.min(n+t,s);if(l){const f=Math.min(2*t+5,a)-2,w=b>3&&Math.abs(s-f-1+1)>2&&Math.abs(b-1)>2,I=v<s-2&&Math.abs(s-f)>2&&Math.abs(s-v)>2;if(!w&&I)return[...P(1,f),M,s];if(w&&!I){const c=P(s-f+1,s);return[1,M,...c]}if(w&&I){const c=P(b,v);return[1,M,...c,M,s]}return P(1,s)}else{const x=t*2+1;return a<x?P(1,s):n<=t+1?P(1,x):a-n<=t?P(a-x+1,s):P(b,v)}}const oe=p({__name:"PaginationList",props:{asChild:{type:Boolean},as:{}},setup(n){const a=n;S();const t=A(),l=B(()=>ne(le(t.page.value,t.pageCount.value,t.siblingCount.value,t.showEdges.value)));return(i,s)=>(d(),$(e(E),q(j(a)),{default:r(()=>[g(i.$slots,"default",{items:l.value})]),_:3},16))}}),re=p({__name:"PaginationNext",props:{asChild:{type:Boolean},as:{default:"button"}},setup(n){const a=n;S();const t=A(),l=B(()=>t.page.value===t.pageCount.value||t.disabled.value);return(i,s)=>(d(),$(e(E),J(a,{"aria-label":"Next Page",type:i.as==="button"?"button":void 0,disabled:l.value,onClick:s[0]||(s[0]=b=>!l.value&&e(t).onPageChange(e(t).page.value+1))}),{default:r(()=>[g(i.$slots,"default",{},()=>[s[1]||(s[1]=_("Next page"))])]),_:3},16,["type","disabled"]))}}),ie=p({__name:"PaginationPrev",props:{asChild:{type:Boolean},as:{default:"button"}},setup(n){const a=n;S();const t=A(),l=B(()=>t.page.value===1||t.disabled.value);return(i,s)=>(d(),$(e(E),J(a,{"aria-label":"Previous Page",type:i.as==="button"?"button":void 0,disabled:l.value,onClick:s[0]||(s[0]=b=>!l.value&&e(t).onPageChange(e(t).page.value-1))}),{default:r(()=>[g(i.$slots,"default",{},()=>[s[1]||(s[1]=_("Prev page"))])]),_:3},16,["type","disabled"]))}});/**
 * @license lucide-vue-next v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=K("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=K("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),ce={class:"relative w-full overflow-auto"},pe=p({__name:"Table",props:{class:{}},setup(n){const a=n;return(t,l)=>(d(),h("div",ce,[R("table",{class:y(e(C)("w-full caption-bottom text-sm",a.class))},[g(t.$slots,"default")],2)]))}}),fe=p({__name:"TableBody",props:{class:{}},setup(n){const a=n;return(t,l)=>(d(),h("tbody",{class:y(e(C)("[&_tr:last-child]:border-0",a.class))},[g(t.$slots,"default")],2))}}),T=p({__name:"TableCell",props:{class:{}},setup(n){const a=n;return(t,l)=>(d(),h("td",{class:y(e(C)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-0.5",a.class))},[g(t.$slots,"default")],2))}}),G=p({__name:"TableRow",props:{class:{}},setup(n){const a=n;return(t,l)=>(d(),h("tr",{class:y(e(C)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a.class))},[g(t.$slots,"default")],2))}}),V=p({__name:"TableHead",props:{class:{}},setup(n){const a=n;return(t,l)=>(d(),h("th",{class:y(e(C)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-0.5",a.class))},[g(t.$slots,"default")],2))}}),ge=p({__name:"TableHeader",props:{class:{}},setup(n){const a=n;return(t,l)=>(d(),h("thead",{class:y(e(C)("[&_tr]:border-b",a.class))},[g(t.$slots,"default")],2))}}),me=p({__name:"PaginationNext",props:{asChild:{type:Boolean,default:!0},as:{},class:{}},setup(n){const a=n,t=B(()=>{const{class:l,...i}=a;return i});return(l,i)=>(d(),$(e(re),q(j(t.value)),{default:r(()=>[o(e(N),{class:y(e(C)("w-9 h-9 p-0",a.class)),variant:"outline"},{default:r(()=>[g(l.$slots,"default",{},()=>[o(e(ue))])]),_:3},8,["class"])]),_:3},16))}}),_e=p({__name:"PaginationPrev",props:{asChild:{type:Boolean,default:!0},as:{},class:{}},setup(n){const a=n,t=B(()=>{const{class:l,...i}=a;return i});return(l,i)=>(d(),$(e(ie),q(j(t.value)),{default:r(()=>[o(e(N),{class:y(e(C)("w-9 h-9 p-0",a.class)),variant:"outline"},{default:r(()=>[g(l.$slots,"default",{},()=>[o(e(ee))])]),_:3},8,["class"])]),_:3},16))}}),he={key:0},be={class:"space-y-[7px]"},ve={key:1},xe={class:"grid grid-cols-2 mt-5"},Pe={class:"col-span-1"},ye={class:"col-span-1 justify-items-end"},we=p({__name:"List",setup(n){const a=Z();function t(c){a.push({name:"berry-detail",params:{id:c}})}function l(c){a.push({name:"berry-edit",params:{id:c}})}const i=te();i.getList();const s=i.list;function b(){s.pageNumber--,s.pageOffset-=10,i.getList()}function v(){s.pageNumber++,s.pageOffset+=10,i.getList()}function x(c){return c+(s.pageLimit*s.pageNumber-s.pageLimit+1)}function f(){a.push({name:"berry-create"})}function w(c,u){i.delete(c).then(m=>{if(m.status===200){const k=s.data.findIndex(L=>L.name===u);k>=0&&s.data.splice(k,1),D()}else I()})}function I(){U({group:"error",title:"Uh oh! Something went wrong.",text:"There was a problem with your request."},3e3)}function D(){U({group:"success",title:"Success",text:"Your berry was deleted"},3e3)}return(c,u)=>(d(),h("main",null,[u[10]||(u[10]=R("div",{class:"text-2xl pb-4"},"List",-1)),e(s).loading?(d(),h("div",he,[R("div",be,[(d(),h(z,null,H(11,m=>o(e(Y),{class:"h-[30px] w-full",key:m})),64))]),o(e(Y),{class:"h-[36px] w-[115px] mt-7"})])):F("",!0),e(s).loading?F("",!0):(d(),h("div",ve,[o(e(pe),null,{default:r(()=>[o(e(ge),null,{default:r(()=>[o(e(G),null,{default:r(()=>[o(e(V),{class:"w-[120px]"},{default:r(()=>u[3]||(u[3]=[_("#")])),_:1}),o(e(V),null,{default:r(()=>u[4]||(u[4]=[_("Name")])),_:1}),o(e(V),{class:"w-[300px] text-center"},{default:r(()=>u[5]||(u[5]=[_("Actions")])),_:1})]),_:1})]),_:1}),o(e(fe),null,{default:r(()=>[(d(!0),h(z,null,H(e(s).data,(m,k)=>(d(),$(e(G),{key:k},{default:r(()=>[o(e(T),null,{default:r(()=>[_(O(x(k)),1)]),_:2},1024),o(e(T),null,{default:r(()=>[_(O(m.name),1)]),_:2},1024),o(e(T),{class:"text-center"},{default:r(()=>[o(e(N),{variant:"link",class:"text-xs h-0",onClick:L=>t(m.name)},{default:r(()=>u[6]||(u[6]=[_(" View ")])),_:2},1032,["onClick"]),o(e(N),{variant:"link",class:"text-xs h-0",onClick:L=>l(m.name)},{default:r(()=>u[7]||(u[7]=[_("Edit")])),_:2},1032,["onClick"]),o(e(N),{variant:"link",class:"text-xs h-0 text-red-500",onClick:L=>w(x(k),m.name)},{default:r(()=>u[8]||(u[8]=[_(" Delete ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),R("div",xe,[R("div",Pe,[o(e(N),{class:"bg-indigo-900 hover:bg-indigo-700",onClick:u[0]||(u[0]=m=>f())},{default:r(()=>[o(e(de)),u[9]||(u[9]=_(" Add New "))]),_:1})]),R("div",ye,[o(e(ae),{"items-per-page":10,total:e(s).count},{default:r(()=>[o(e(oe),{class:"flex items-center gap-1"},{default:r(()=>[o(e(_e),{disabled:e(s).pageNumber<=1,onClick:u[1]||(u[1]=m=>b()),class:"bg-indigo-900 text-white hover:bg-indigo-700 hover:text-white"},null,8,["disabled"]),o(e(me),{disabled:e(s).pageNumber>=e(s).pageTotal,onClick:u[2]||(u[2]=m=>v()),class:"bg-indigo-900 text-white hover:bg-indigo-700 hover:text-white"},null,8,["disabled"])]),_:1})]),_:1},8,["total"])])])]))]))}});export{we as default};
