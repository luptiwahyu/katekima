import{d as g,t as Z,h as T,i as ee,j as w,k as te,l as k,w as u,r as v,u as e,P as V,o as d,n as F,m as O,f,p as Q,c as W,a as _,b as c,q as C,s as $,e as r,_ as B,v as G,F as j,x as q,y as se,z as ae,A as I,g as ne,S as J}from"./index-kohkYvF1.js";import{C as le,u as oe,_ as z}from"./berry-fssW7vzz.js";const[H,re]=te("PaginationRoot"),ie=g({__name:"PaginationRoot",props:{page:{},defaultPage:{default:1},itemsPerPage:{},total:{default:0},siblingCount:{default:2},disabled:{type:Boolean},showEdges:{type:Boolean,default:!1},asChild:{type:Boolean},as:{default:"nav"}},emits:["update:page"],setup(n,{emit:a}){const s=n,o=a,{siblingCount:i,disabled:t,showEdges:b}=Z(s);T();const h=ee(s,"page",o,{defaultValue:s.defaultPage,passive:s.page===void 0}),x=w(()=>Math.max(1,Math.ceil(s.total/(s.itemsPerPage||1))));return re({page:h,onPageChange(m){h.value=m},pageCount:x,siblingCount:i,disabled:t,showEdges:b}),(m,L)=>(d(),k(e(V),{as:m.as,"as-child":m.asChild},{default:u(()=>[v(m.$slots,"default",{page:e(h),pageCount:x.value})]),_:3},8,["as","as-child"]))}});function y(n,a){const s=a-n+1;return Array.from({length:s},(o,i)=>i+n)}function ue(n){return n.map(a=>typeof a=="number"?{type:"page",value:a}:{type:"ellipsis"})}const S="ellipsis";function de(n,a,s,o){const t=a,b=Math.max(n-s,1),h=Math.min(n+s,t);if(o){const m=Math.min(2*s+5,a)-2,L=b>3&&Math.abs(t-m-1+1)>2&&Math.abs(b-1)>2,E=h<t-2&&Math.abs(t-m)>2&&Math.abs(t-h)>2;if(!L&&E)return[...y(1,m),S,t];if(L&&!E){const N=y(t-m+1,t);return[1,S,...N]}if(L&&E){const N=y(b,h);return[1,S,...N,S,t]}return y(1,t)}else{const x=s*2+1;return a<x?y(1,t):n<=s+1?y(1,x):a-n<=s?y(a-x+1,t):y(b,h)}}const pe=g({__name:"PaginationList",props:{asChild:{type:Boolean},as:{}},setup(n){const a=n;T();const s=H(),o=w(()=>ue(de(s.page.value,s.pageCount.value,s.siblingCount.value,s.showEdges.value)));return(i,t)=>(d(),k(e(V),F(O(a)),{default:u(()=>[v(i.$slots,"default",{items:o.value})]),_:3},16))}}),ce=g({__name:"PaginationNext",props:{asChild:{type:Boolean},as:{default:"button"}},setup(n){const a=n;T();const s=H(),o=w(()=>s.page.value===s.pageCount.value||s.disabled.value);return(i,t)=>(d(),k(e(V),Q(a,{"aria-label":"Next Page",type:i.as==="button"?"button":void 0,disabled:o.value,onClick:t[0]||(t[0]=b=>!o.value&&e(s).onPageChange(e(s).page.value+1))}),{default:u(()=>[v(i.$slots,"default",{},()=>[t[1]||(t[1]=f("Next page"))])]),_:3},16,["type","disabled"]))}}),fe=g({__name:"PaginationPrev",props:{asChild:{type:Boolean},as:{default:"button"}},setup(n){const a=n;T();const s=H(),o=w(()=>s.page.value===1||s.disabled.value);return(i,t)=>(d(),k(e(V),Q(a,{"aria-label":"Previous Page",type:i.as==="button"?"button":void 0,disabled:o.value,onClick:t[0]||(t[0]=b=>!o.value&&e(s).onPageChange(e(s).page.value-1))}),{default:u(()=>[v(i.$slots,"default",{},()=>[t[1]||(t[1]=f("Prev page"))])]),_:3},16,["type","disabled"]))}});/**
 * @license lucide-vue-next v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=W("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=W("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),_e={class:"relative w-full overflow-auto"},ve=g({__name:"Table",props:{class:{}},setup(n){const a=n;return(s,o)=>(d(),_("div",_e,[c("table",{class:C(e($)("w-full caption-bottom text-sm",a.class))},[v(s.$slots,"default")],2)]))}}),be=g({__name:"TableBody",props:{class:{}},setup(n){const a=n;return(s,o)=>(d(),_("tbody",{class:C(e($)("[&_tr:last-child]:border-0",a.class))},[v(s.$slots,"default")],2))}}),A=g({__name:"TableCell",props:{class:{}},setup(n){const a=n;return(s,o)=>(d(),_("td",{class:C(e($)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-0.5",a.class))},[v(s.$slots,"default")],2))}}),K=g({__name:"TableRow",props:{class:{}},setup(n){const a=n;return(s,o)=>(d(),_("tr",{class:C(e($)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a.class))},[v(s.$slots,"default")],2))}}),D=g({__name:"TableHead",props:{class:{}},setup(n){const a=n;return(s,o)=>(d(),_("th",{class:C(e($)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-0.5",a.class))},[v(s.$slots,"default")],2))}}),he=g({__name:"TableHeader",props:{class:{}},setup(n){const a=n;return(s,o)=>(d(),_("thead",{class:C(e($)("[&_tr]:border-b",a.class))},[v(s.$slots,"default")],2))}}),xe=g({__name:"PaginationNext",props:{asChild:{type:Boolean,default:!0},as:{},class:{}},setup(n){const a=n,s=w(()=>{const{class:o,...i}=a;return i});return(o,i)=>(d(),k(e(ce),F(O(s.value)),{default:u(()=>[r(e(B),{class:C(e($)("w-9 h-9 p-0",a.class)),variant:"outline"},{default:u(()=>[v(o.$slots,"default",{},()=>[r(e(ge))])]),_:3},8,["class"])]),_:3},16))}}),Pe=g({__name:"PaginationPrev",props:{asChild:{type:Boolean,default:!0},as:{},class:{}},setup(n){const a=n,s=w(()=>{const{class:o,...i}=a;return i});return(o,i)=>(d(),k(e(fe),F(O(s.value)),{default:u(()=>[r(e(B),{class:C(e($)("w-9 h-9 p-0",a.class)),variant:"outline"},{default:u(()=>[v(o.$slots,"default",{},()=>[r(e(le))])]),_:3},8,["class"])]),_:3},16))}}),ye={key:0},Ce={class:"space-y-[7px]"},$e={key:1},we={class:"pb-4"},ke=["value"],Le={class:"grid grid-cols-3 mt-5"},Ne={class:"col-span-1"},Re={class:"col-span-1 content-center justify-self-center"},Be={class:"col-span-1 justify-self-end"},Me=g({__name:"List",setup(n){const a=ne();function s(P){a.push({name:"berry-detail",params:{id:P}})}function o(P){a.push({name:"berry-edit",params:{id:P}})}const i=oe();i.getList();const t=i.list;function b(){t.pageNumber--,t.pageOffset-=t.pageLimit,i.getList()}function h(){t.pageNumber++,t.pageOffset+=t.pageLimit,i.getList()}function x(P){return P+(t.pageLimit*t.pageNumber-t.pageLimit+1)}function m(){a.push({name:"berry-create"})}function L(P,l){i.delete(P).then(p=>{if(p.status===200){const R=t.data.findIndex(M=>M.name===l);R>=0&&t.data.splice(R,1),U()}else E()})}function E(){J({group:"error",title:"Uh oh! Something went wrong.",text:"There was a problem with your request."},3e3)}function U(){J({group:"success",title:"Success",text:"Your berry was deleted"},3e3)}const N=[{value:10,name:"10 Entries"},{value:20,name:"20 Entries"},{value:30,name:"30 Entries"}],Y=w({get(){return t.pageLimit},set(P){t.pageLimit=P}});function X(){t.pageNumber=1,t.pageOffset=0,i.getList()}return(P,l)=>(d(),_("main",null,[l[13]||(l[13]=c("div",{class:"text-2xl pb-4"},"List",-1)),e(t).loading?(d(),_("div",ye,[r(e(z),{class:"h-[34px] w-[152px] mb-[16px]"}),c("div",Ce,[(d(),_(j,null,q(11,p=>r(e(z),{class:"h-[30px] w-full",key:p})),64))]),r(e(z),{class:"h-[36px] w-[115px] mt-7"})])):G("",!0),e(t).loading?G("",!0):(d(),_("div",$e,[c("div",we,[se(c("select",{class:"h-[34px] w-[150px] bg-slate-50 rounded border-r-8 border-transparent px-4 text-sm outline outline-gray-200",onChange:X,"onUpdate:modelValue":l[0]||(l[0]=p=>Y.value=p)},[(d(),_(j,null,q(N,p=>c("option",{key:p.value,value:p.value},I(p.name),9,ke)),64))],544),[[ae,Y.value]])]),r(e(ve),null,{default:u(()=>[r(e(he),null,{default:u(()=>[r(e(K),null,{default:u(()=>[r(e(D),{class:"w-[120px]"},{default:u(()=>l[4]||(l[4]=[f("#")])),_:1}),r(e(D),null,{default:u(()=>l[5]||(l[5]=[f("Name")])),_:1}),r(e(D),{class:"w-[300px] text-center"},{default:u(()=>l[6]||(l[6]=[f("Actions")])),_:1})]),_:1})]),_:1}),r(e(be),null,{default:u(()=>[(d(!0),_(j,null,q(e(t).data,(p,R)=>(d(),k(e(K),{key:R},{default:u(()=>[r(e(A),null,{default:u(()=>[f(I(x(R)),1)]),_:2},1024),r(e(A),null,{default:u(()=>[f(I(p.name),1)]),_:2},1024),r(e(A),{class:"text-center"},{default:u(()=>[r(e(B),{variant:"link",class:"text-xs h-0",onClick:M=>s(p.name)},{default:u(()=>l[7]||(l[7]=[f(" View ")])),_:2},1032,["onClick"]),r(e(B),{variant:"link",class:"text-xs h-0",onClick:M=>o(p.name)},{default:u(()=>l[8]||(l[8]=[f("Edit")])),_:2},1032,["onClick"]),r(e(B),{variant:"link",class:"text-xs h-0 text-red-500",onClick:M=>L(x(R),p.name)},{default:u(()=>l[9]||(l[9]=[f(" Delete ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),c("div",Le,[c("div",Ne,[r(e(B),{class:"bg-indigo-900 hover:bg-indigo-700",onClick:l[1]||(l[1]=p=>m())},{default:u(()=>[r(e(me)),l[10]||(l[10]=f(" Add New "))]),_:1})]),c("div",Re,[c("span",null,[l[11]||(l[11]=f(" Page ")),c("strong",null,I(e(t).pageNumber),1),l[12]||(l[12]=f(" of ")),c("strong",null,I(e(t).pageTotal),1)])]),c("div",Be,[r(e(ie),{"items-per-page":10,total:e(t).count},{default:u(()=>[r(e(pe),{class:"flex items-center gap-1"},{default:u(()=>[r(e(Pe),{disabled:e(t).pageNumber<=1,onClick:l[2]||(l[2]=p=>b()),class:"bg-indigo-900 text-white hover:bg-indigo-700 hover:text-white"},null,8,["disabled"]),r(e(xe),{disabled:e(t).pageNumber>=e(t).pageTotal,onClick:l[3]||(l[3]=p=>h()),class:"bg-indigo-900 text-white hover:bg-indigo-700 hover:text-white"},null,8,["disabled"])]),_:1})]),_:1},8,["total"])])])]))]))}});export{Me as default};
