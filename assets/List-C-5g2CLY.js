import{d as c,t as Z,h as S,i as ee,j as w,k as te,l as k,w as u,r as m,u as e,P as T,o as d,n as F,m as O,f as _,p as Q,c as W,a as g,b as P,q as C,s as $,e as r,_ as B,v as G,F as V,x as q,y as se,z as ae,g as ne,A as z,S as J}from"./index-CC74ruC_.js";import{C as le,u as oe,_ as A}from"./berry-CjSOlJZ_.js";const[H,re]=te("PaginationRoot"),ie=c({__name:"PaginationRoot",props:{page:{},defaultPage:{default:1},itemsPerPage:{},total:{default:0},siblingCount:{default:2},disabled:{type:Boolean},showEdges:{type:Boolean,default:!1},asChild:{type:Boolean},as:{default:"nav"}},emits:["update:page"],setup(n,{emit:a}){const t=n,l=a,{siblingCount:i,disabled:s,showEdges:v}=Z(t);S();const b=ee(t,"page",l,{defaultValue:t.defaultPage,passive:t.page===void 0}),h=w(()=>Math.max(1,Math.ceil(t.total/(t.itemsPerPage||1))));return re({page:b,onPageChange(f){b.value=f},pageCount:h,siblingCount:i,disabled:s,showEdges:v}),(f,L)=>(d(),k(e(T),{as:f.as,"as-child":f.asChild},{default:u(()=>[m(f.$slots,"default",{page:e(b),pageCount:h.value})]),_:3},8,["as","as-child"]))}});function y(n,a){const t=a-n+1;return Array.from({length:t},(l,i)=>i+n)}function ue(n){return n.map(a=>typeof a=="number"?{type:"page",value:a}:{type:"ellipsis"})}const M="ellipsis";function de(n,a,t,l){const s=a,v=Math.max(n-t,1),b=Math.min(n+t,s);if(l){const f=Math.min(2*t+5,a)-2,L=v>3&&Math.abs(s-f-1+1)>2&&Math.abs(v-1)>2,E=b<s-2&&Math.abs(s-f)>2&&Math.abs(s-b)>2;if(!L&&E)return[...y(1,f),M,s];if(L&&!E){const N=y(s-f+1,s);return[1,M,...N]}if(L&&E){const N=y(v,b);return[1,M,...N,M,s]}return y(1,s)}else{const h=t*2+1;return a<h?y(1,s):n<=t+1?y(1,h):a-n<=t?y(a-h+1,s):y(v,b)}}const pe=c({__name:"PaginationList",props:{asChild:{type:Boolean},as:{}},setup(n){const a=n;S();const t=H(),l=w(()=>ue(de(t.page.value,t.pageCount.value,t.siblingCount.value,t.showEdges.value)));return(i,s)=>(d(),k(e(T),F(O(a)),{default:u(()=>[m(i.$slots,"default",{items:l.value})]),_:3},16))}}),ce=c({__name:"PaginationNext",props:{asChild:{type:Boolean},as:{default:"button"}},setup(n){const a=n;S();const t=H(),l=w(()=>t.page.value===t.pageCount.value||t.disabled.value);return(i,s)=>(d(),k(e(T),Q(a,{"aria-label":"Next Page",type:i.as==="button"?"button":void 0,disabled:l.value,onClick:s[0]||(s[0]=v=>!l.value&&e(t).onPageChange(e(t).page.value+1))}),{default:u(()=>[m(i.$slots,"default",{},()=>[s[1]||(s[1]=_("Next page"))])]),_:3},16,["type","disabled"]))}}),fe=c({__name:"PaginationPrev",props:{asChild:{type:Boolean},as:{default:"button"}},setup(n){const a=n;S();const t=H(),l=w(()=>t.page.value===1||t.disabled.value);return(i,s)=>(d(),k(e(T),Q(a,{"aria-label":"Previous Page",type:i.as==="button"?"button":void 0,disabled:l.value,onClick:s[0]||(s[0]=v=>!l.value&&e(t).onPageChange(e(t).page.value-1))}),{default:u(()=>[m(i.$slots,"default",{},()=>[s[1]||(s[1]=_("Prev page"))])]),_:3},16,["type","disabled"]))}});/**
 * @license lucide-vue-next v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=W("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=W("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),_e={class:"relative w-full overflow-auto"},ve=c({__name:"Table",props:{class:{}},setup(n){const a=n;return(t,l)=>(d(),g("div",_e,[P("table",{class:C(e($)("w-full caption-bottom text-sm",a.class))},[m(t.$slots,"default")],2)]))}}),be=c({__name:"TableBody",props:{class:{}},setup(n){const a=n;return(t,l)=>(d(),g("tbody",{class:C(e($)("[&_tr:last-child]:border-0",a.class))},[m(t.$slots,"default")],2))}}),D=c({__name:"TableCell",props:{class:{}},setup(n){const a=n;return(t,l)=>(d(),g("td",{class:C(e($)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-0.5",a.class))},[m(t.$slots,"default")],2))}}),K=c({__name:"TableRow",props:{class:{}},setup(n){const a=n;return(t,l)=>(d(),g("tr",{class:C(e($)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a.class))},[m(t.$slots,"default")],2))}}),j=c({__name:"TableHead",props:{class:{}},setup(n){const a=n;return(t,l)=>(d(),g("th",{class:C(e($)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-0.5",a.class))},[m(t.$slots,"default")],2))}}),he=c({__name:"TableHeader",props:{class:{}},setup(n){const a=n;return(t,l)=>(d(),g("thead",{class:C(e($)("[&_tr]:border-b",a.class))},[m(t.$slots,"default")],2))}}),xe=c({__name:"PaginationNext",props:{asChild:{type:Boolean,default:!0},as:{},class:{}},setup(n){const a=n,t=w(()=>{const{class:l,...i}=a;return i});return(l,i)=>(d(),k(e(ce),F(O(t.value)),{default:u(()=>[r(e(B),{class:C(e($)("w-9 h-9 p-0",a.class)),variant:"outline"},{default:u(()=>[m(l.$slots,"default",{},()=>[r(e(ge))])]),_:3},8,["class"])]),_:3},16))}}),Pe=c({__name:"PaginationPrev",props:{asChild:{type:Boolean,default:!0},as:{},class:{}},setup(n){const a=n,t=w(()=>{const{class:l,...i}=a;return i});return(l,i)=>(d(),k(e(fe),F(O(t.value)),{default:u(()=>[r(e(B),{class:C(e($)("w-9 h-9 p-0",a.class)),variant:"outline"},{default:u(()=>[m(l.$slots,"default",{},()=>[r(e(le))])]),_:3},8,["class"])]),_:3},16))}}),ye={key:0},Ce={class:"space-y-[7px]"},$e={key:1},we={class:"pb-4"},ke=["value"],Le={class:"grid grid-cols-2 mt-5"},Ne={class:"col-span-1"},Re={class:"col-span-1 justify-items-end"},Ie=c({__name:"List",setup(n){const a=ne();function t(x){a.push({name:"berry-detail",params:{id:x}})}function l(x){a.push({name:"berry-edit",params:{id:x}})}const i=oe();i.getList();const s=i.list;function v(){s.pageNumber--,s.pageOffset-=s.pageLimit,i.getList()}function b(){s.pageNumber++,s.pageOffset+=s.pageLimit,i.getList()}function h(x){return x+(s.pageLimit*s.pageNumber-s.pageLimit+1)}function f(){a.push({name:"berry-create"})}function L(x,o){i.delete(x).then(p=>{if(p.status===200){const R=s.data.findIndex(I=>I.name===o);R>=0&&s.data.splice(R,1),U()}else E()})}function E(){J({group:"error",title:"Uh oh! Something went wrong.",text:"There was a problem with your request."},3e3)}function U(){J({group:"success",title:"Success",text:"Your berry was deleted"},3e3)}const N=[{value:10,name:"10 Entries"},{value:20,name:"20 Entries"},{value:30,name:"30 Entries"}],Y=w({get(){return s.pageLimit},set(x){s.pageLimit=x}});function X(){s.pageNumber=1,s.pageOffset=0,i.getList()}return(x,o)=>(d(),g("main",null,[o[11]||(o[11]=P("div",{class:"text-2xl pb-4"},"List",-1)),e(s).loading?(d(),g("div",ye,[r(e(A),{class:"h-[34px] w-[152px] mb-[16px]"}),P("div",Ce,[(d(),g(V,null,q(11,p=>r(e(A),{class:"h-[30px] w-full",key:p})),64))]),r(e(A),{class:"h-[36px] w-[115px] mt-7"})])):G("",!0),e(s).loading?G("",!0):(d(),g("div",$e,[P("div",we,[se(P("select",{class:"h-[34px] w-[150px] bg-slate-50 rounded border-r-8 border-transparent px-4 text-sm outline outline-gray-200",onChange:X,"onUpdate:modelValue":o[0]||(o[0]=p=>Y.value=p)},[(d(),g(V,null,q(N,p=>P("option",{key:p.value,value:p.value},z(p.name),9,ke)),64))],544),[[ae,Y.value]])]),r(e(ve),null,{default:u(()=>[r(e(he),null,{default:u(()=>[r(e(K),null,{default:u(()=>[r(e(j),{class:"w-[120px]"},{default:u(()=>o[4]||(o[4]=[_("#")])),_:1}),r(e(j),null,{default:u(()=>o[5]||(o[5]=[_("Name")])),_:1}),r(e(j),{class:"w-[300px] text-center"},{default:u(()=>o[6]||(o[6]=[_("Actions")])),_:1})]),_:1})]),_:1}),r(e(be),null,{default:u(()=>[(d(!0),g(V,null,q(e(s).data,(p,R)=>(d(),k(e(K),{key:R},{default:u(()=>[r(e(D),null,{default:u(()=>[_(z(h(R)),1)]),_:2},1024),r(e(D),null,{default:u(()=>[_(z(p.name),1)]),_:2},1024),r(e(D),{class:"text-center"},{default:u(()=>[r(e(B),{variant:"link",class:"text-xs h-0",onClick:I=>t(p.name)},{default:u(()=>o[7]||(o[7]=[_(" View ")])),_:2},1032,["onClick"]),r(e(B),{variant:"link",class:"text-xs h-0",onClick:I=>l(p.name)},{default:u(()=>o[8]||(o[8]=[_("Edit")])),_:2},1032,["onClick"]),r(e(B),{variant:"link",class:"text-xs h-0 text-red-500",onClick:I=>L(h(R),p.name)},{default:u(()=>o[9]||(o[9]=[_(" Delete ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),P("div",Le,[P("div",Ne,[r(e(B),{class:"bg-indigo-900 hover:bg-indigo-700",onClick:o[1]||(o[1]=p=>f())},{default:u(()=>[r(e(me)),o[10]||(o[10]=_(" Add New "))]),_:1})]),P("div",Re,[r(e(ie),{"items-per-page":10,total:e(s).count},{default:u(()=>[r(e(pe),{class:"flex items-center gap-1"},{default:u(()=>[r(e(Pe),{disabled:e(s).pageNumber<=1,onClick:o[2]||(o[2]=p=>v()),class:"bg-indigo-900 text-white hover:bg-indigo-700 hover:text-white"},null,8,["disabled"]),r(e(xe),{disabled:e(s).pageNumber>=e(s).pageTotal,onClick:o[3]||(o[3]=p=>b()),class:"bg-indigo-900 text-white hover:bg-indigo-700 hover:text-white"},null,8,["disabled"])]),_:1})]),_:1},8,["total"])])])]))]))}});export{Ie as default};
